{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "calendar-year",
  "type": "registry:block",
  "title": "Calendar Year",
  "description": "A calendar year component.",
  "dependencies": ["dayjs", "@radix-ui/react-slot", "class-variance-authority", "@radix-ui/react-tooltip"],
  "registryDependencies": ["button", "tooltip"],
  "files": [
    {
      "path": "registry/abui/ui/calendar-year.tsx",
      "content": "\"use client\"\n\nimport * as React from \"react\"\nimport { Button } from \"@/components/ui/button\"\nimport { Tooltip, TooltipContent, TooltipProvider, TooltipTrigger } from \"@/components/ui/tooltip\"\nimport { cn } from \"@/lib/utils\"\nimport dayjs from \"dayjs\"\n\n// ============================================================================\n// Types\n// ============================================================================\n\n/**\n * State of a calendar day\n */\nexport type DayState = \"default\" | \"selected\" | \"partial\" | \"blocked\" | \"active\"\n\n/**\n * Day data structure\n */\nexport interface CalendarDay {\n  date: string // YYYY-MM-DD format\n  state?: DayState\n  disabled?: boolean\n  tooltip?: string\n}\n\n/**\n * Month structure with rows of days\n */\nexport interface CalendarMonth {\n  name: string\n  monthIndex: number\n  weekdayLabels: string[]\n  rows: (CalendarDay | null)[][]\n}\n\n// ============================================================================\n// Utility Functions\n// ============================================================================\n\n/**\n * Generate calendar structure for a year\n * Uses dayjs locale for month and weekday names\n *\n * @param year - Year to generate calendar for\n * @returns Array of months with rows of days (dates only, no state)\n */\nexport function generateYearCalendar(year: number): CalendarMonth[] {\n  const months: CalendarMonth[] = []\n\n  // Get weekday labels (Monday to Sunday) using dayjs locale\n  const weekdayLabels: string[] = []\n  const weekDaysIndexes = [1, 2, 3, 4, 5, 6, 0] // Mon-Sun\n  for (const dayIndex of weekDaysIndexes) {\n    // Create a date that falls on this weekday\n    const sampleDate = dayjs().day(dayIndex)\n    const dayName = sampleDate.format(\"dddd\")\n    // Capitalize first letter\n    weekdayLabels.push(dayName.charAt(0).toUpperCase() + dayName.slice(1))\n  }\n\n  for (let monthIndex = 0; monthIndex < 12; monthIndex++) {\n    const firstDayOfMonth = dayjs().year(year).month(monthIndex).date(1)\n    const monthName = firstDayOfMonth.format(\"MMMM\")\n    // Capitalize first letter\n    const capitalizedMonthName = monthName.charAt(0).toUpperCase() + monthName.slice(1)\n    const daysInMonth = firstDayOfMonth.daysInMonth()\n    const monthDays: CalendarDay[] = []\n\n    // Generate all days for this month (just dates, no business logic)\n    for (let day = 1; day <= daysInMonth; day++) {\n      const date = dayjs().year(year).month(monthIndex).date(day).format(\"YYYY-MM-DD\")\n\n      monthDays.push({\n        date,\n        state: \"default\",\n        disabled: false,\n        tooltip: undefined,\n      })\n    }\n\n    // Organize days into rows (weeks)\n    const rows: (CalendarDay | null)[][] = []\n    const monthDaysClone = [...monthDays]\n\n    while (monthDaysClone.length > 0) {\n      const newRow: (CalendarDay | null)[] = []\n      for (const dayIndex of weekDaysIndexes) {\n        const testingDay = monthDaysClone[0]\n        if (testingDay && dayjs(testingDay.date).day() === dayIndex) {\n          newRow.push(testingDay)\n          monthDaysClone.shift()\n        } else {\n          newRow.push(null)\n        }\n      }\n      rows.push(newRow)\n    }\n\n    months.push({\n      name: capitalizedMonthName,\n      monthIndex,\n      weekdayLabels,\n      rows,\n    })\n  }\n\n  return months\n}\n\n/**\n * Check if a date is today\n */\nconst isDateToday = (date: string): boolean => {\n  return dayjs(date).isSame(dayjs(), \"day\")\n}\n\n// ============================================================================\n// Root Component (Container)\n// ============================================================================\n\nfunction CalendarYear({ className, children, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div data-slot=\"calendar-year\" className={cn(\"flex h-full w-full flex-col\", className)} {...props}>\n      {children}\n    </div>\n  )\n}\n\n// ============================================================================\n// Content Component (Scrollable Container)\n// ============================================================================\n\ninterface CalendarYearContentProps extends React.ComponentProps<\"div\"> {\n  scrollToCurrentMonth?: boolean\n}\n\nfunction CalendarYearContent({\n  scrollToCurrentMonth = false,\n  className,\n  children,\n  ...props\n}: CalendarYearContentProps) {\n  const scrollContainerRef = React.useRef<HTMLDivElement>(null)\n  const [hasScrolled, setHasScrolled] = React.useState(false)\n\n  React.useEffect(() => {\n    if (scrollToCurrentMonth && !hasScrolled && scrollContainerRef.current) {\n      const currentMonth = dayjs().month()\n      const monthClass = `calendar-month-${currentMonth}`\n      const element = scrollContainerRef.current.querySelector(`.${monthClass}`)\n\n      if (element) {\n        element.scrollIntoView({ behavior: \"instant\", block: \"start\" })\n        setHasScrolled(true)\n      }\n    }\n  }, [scrollToCurrentMonth, hasScrolled])\n\n  return (\n    <div\n      ref={scrollContainerRef}\n      data-slot=\"calendar-year-content\"\n      className={cn(\n        \"flex flex-col gap-12 overflow-y-auto\",\n        \"transition-opacity duration-300\",\n        scrollToCurrentMonth && !hasScrolled && \"opacity-0\",\n        className,\n      )}\n      {...props}\n    >\n      {children}\n    </div>\n  )\n}\n\n// ============================================================================\n// Month Component\n// ============================================================================\n\ninterface CalendarYearMonthProps extends React.ComponentProps<\"div\"> {\n  name: string\n  monthIndex: number\n}\n\nfunction CalendarYearMonth({ name, monthIndex, className, children, ...props }: CalendarYearMonthProps) {\n  return (\n    <div\n      data-slot=\"calendar-month\"\n      className={cn(`calendar-month-${monthIndex} flex flex-col gap-3`, className)}\n      {...props}\n    >\n      <h3 className=\"text-lg font-semibold\">{name}</h3>\n      {children}\n    </div>\n  )\n}\n\n// ============================================================================\n// Weekday Header Component\n// ============================================================================\n\ninterface CalendarYearWeekdayHeaderProps extends Omit<React.ComponentProps<\"div\">, \"children\"> {\n  labels: string[]\n}\n\nfunction CalendarYearWeekdayHeader({ labels, className, ...props }: CalendarYearWeekdayHeaderProps) {\n  return (\n    <div\n      data-slot=\"calendar-weekday-header\"\n      className={cn(\"grid grid-cols-7 gap-2 border-b pb-2 mb-2 border-border\", className)}\n      {...props}\n    >\n      {labels.map((label, i) => (\n        <p key={i} className=\"text-sm text-muted-foreground text-left truncate\">\n          {label}\n        </p>\n      ))}\n    </div>\n  )\n}\n\n// ============================================================================\n// Week Component\n// ============================================================================\n\nfunction CalendarYearWeek({ className, children, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div data-slot=\"calendar-week\" className={cn(\"grid grid-cols-7 gap-2\", className)} {...props}>\n      {children}\n    </div>\n  )\n}\n\n// ============================================================================\n// Day Component\n// ============================================================================\n\ninterface CalendarYearDayProps extends Omit<React.ComponentProps<\"button\">, \"children\"> {\n  date: string\n  state?: DayState\n  disabled?: boolean\n  tooltip?: string\n}\n\nconst CalendarYearDay = React.forwardRef<HTMLButtonElement, CalendarYearDayProps>(\n  ({ date, state = \"default\", disabled = false, tooltip, className, ...props }, ref) => {\n    const dayNumber = dayjs(date).format(\"DD\")\n    const isToday = isDateToday(date)\n\n    const buttonContent = (\n      <Button\n        ref={ref}\n        data-slot=\"calendar-day\"\n        data-state={state}\n        data-today={isToday}\n        data-disabled={disabled}\n        type=\"button\"\n        variant=\"outline\"\n        size=\"icon\"\n        disabled={disabled}\n        className={cn(\n          \"relative h-9 w-9 p-0 font-semibold transition-all rounded-full\",\n          \"hover:scale-105 active:scale-95\",\n\n          // Default state\n          \"data-[state=default]:bg-background data-[state=default]:text-foreground data-[state=default]:border-border\",\n\n          // Selected state (blue)\n          \"data-[state=selected]:!bg-blue-500 data-[state=selected]:!text-white data-[state=selected]:!border-blue-500\",\n          \"data-[state=selected]:hover:!bg-blue-600 data-[state=selected]:hover:!border-blue-600\",\n\n          // Partial selection state (blue border and text)\n          \"data-[state=partial]:!bg-background data-[state=partial]:!text-blue-500 data-[state=partial]:!border-blue-500\",\n          \"data-[state=partial]:hover:!bg-blue-50 dark:data-[state=partial]:hover:!bg-blue-950\",\n\n          // Blocked state (red) - not-allowed cursor, no hover effects\n          \"data-[state=blocked]:!bg-background data-[state=blocked]:!text-red-500 data-[state=blocked]:!border-red-500\",\n          \"data-[state=blocked]:!cursor-not-allowed\",\n          \"data-[state=blocked]:hover:!scale-100\",\n\n          // Active state (green) - holidays\n          \"data-[state=active]:!bg-green-500 data-[state=active]:!text-background data-[state=active]:!border-green-500\",\n          \"data-[state=active]:hover:!bg-green-600 data-[state=active]:hover:!border-green-600\",\n\n          // Disabled state\n          \"data-[disabled=true]:opacity-30 data-[disabled=true]:cursor-not-allowed data-[disabled=true]:pointer-events-none\",\n          \"data-[disabled=true]:hover:scale-100\",\n\n          // Today indicator\n          \"data-[today=true]:ring-2 data-[today=true]:ring-primary data-[today=true]:ring-offset-2\",\n\n          className,\n        )}\n        {...props}\n      >\n        {dayNumber}\n      </Button>\n    )\n\n    if (!disabled && tooltip) {\n      return (\n        <TooltipProvider delayDuration={200}>\n          <Tooltip>\n            <TooltipTrigger asChild>{buttonContent}</TooltipTrigger>\n            <TooltipContent>\n              <p>{tooltip}</p>\n            </TooltipContent>\n          </Tooltip>\n        </TooltipProvider>\n      )\n    }\n\n    return buttonContent\n  },\n)\nCalendarYearDay.displayName = \"CalendarYearDay\"\n\n// ============================================================================\n// Exports\n// ============================================================================\n\nexport {\n  CalendarYear,\n  CalendarYearContent,\n  CalendarYearMonth,\n  CalendarYearWeekdayHeader,\n  CalendarYearWeek,\n  CalendarYearDay,\n}\n",
      "type": "registry:component"
    },
    {
      "path": "components/ui/button.tsx",
      "content": "import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst buttonVariants = cva(\n  \"cursor-pointer inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-primary text-primary-foreground hover:bg-primary/90\",\n        destructive:\n          \"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60\",\n        outline:\n          \"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50\",\n        secondary: \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        ghost: \"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"h-9 px-4 py-2 has-[>svg]:px-3\",\n        sm: \"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5\",\n        lg: \"h-10 rounded-md px-6 has-[>svg]:px-4\",\n        icon: \"size-9\",\n        \"icon-sm\": \"size-8\",\n        \"icon-lg\": \"size-10\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  },\n)\n\nfunction Button({\n  className,\n  variant,\n  size,\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"button\"> &\n  VariantProps<typeof buttonVariants> & {\n    asChild?: boolean\n  }) {\n  const Comp = asChild ? Slot : \"button\"\n\n  return <Comp data-slot=\"button\" className={cn(buttonVariants({ variant, size, className }))} {...props} />\n}\n\nexport { Button, buttonVariants }\n",
      "type": "registry:ui",
      "target": ""
    },
    {
      "path": "components/ui/tooltip.tsx",
      "content": "\"use client\"\n\nimport * as React from \"react\"\nimport * as TooltipPrimitive from \"@radix-ui/react-tooltip\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction TooltipProvider({ delayDuration = 0, ...props }: React.ComponentProps<typeof TooltipPrimitive.Provider>) {\n  return <TooltipPrimitive.Provider data-slot=\"tooltip-provider\" delayDuration={delayDuration} {...props} />\n}\n\nfunction Tooltip({ ...props }: React.ComponentProps<typeof TooltipPrimitive.Root>) {\n  return (\n    <TooltipProvider>\n      <TooltipPrimitive.Root data-slot=\"tooltip\" {...props} />\n    </TooltipProvider>\n  )\n}\n\nfunction TooltipTrigger({ ...props }: React.ComponentProps<typeof TooltipPrimitive.Trigger>) {\n  return <TooltipPrimitive.Trigger data-slot=\"tooltip-trigger\" {...props} />\n}\n\nfunction TooltipContent({\n  className,\n  sideOffset = 0,\n  children,\n  ...props\n}: React.ComponentProps<typeof TooltipPrimitive.Content>) {\n  return (\n    <TooltipPrimitive.Portal>\n      <TooltipPrimitive.Content\n        data-slot=\"tooltip-content\"\n        sideOffset={sideOffset}\n        className={cn(\n          \"bg-foreground text-background animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance\",\n          className,\n        )}\n        {...props}\n      >\n        {children}\n        <TooltipPrimitive.Arrow className=\"bg-foreground fill-foreground z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]\" />\n      </TooltipPrimitive.Content>\n    </TooltipPrimitive.Portal>\n  )\n}\n\nexport { Tooltip, TooltipTrigger, TooltipContent, TooltipProvider }\n",
      "type": "registry:ui",
      "target": ""
    }
  ]
}
